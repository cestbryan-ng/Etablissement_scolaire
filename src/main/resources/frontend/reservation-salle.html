<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√©server une salle - R√©servations Enseignants</title>
    <link rel="stylesheet" href="reservation-salle.css">
</head>
<body>
    <header class="header">
        <h1>Etablissement Scolaire</h1>
        <div class="user-info">
            <div class="user-avatar"></div>
            <span>Nom enseignant</span>
            <button onclick="logout()" class="logout-btn">D√©connexion</button>
        </div>
    </header>

    <section class="welcome-section">
        <div class="welcome-header">
            <button onclick="retourAccueil()" class="back-button">‚Üê Retour</button>
            <div class="welcome-content">
                <h2>R√©server une salle</h2>
                <p>Trouvez et r√©servez la salle adapt√©e √† vos besoins</p>
            </div>
        </div>
    </section>

    <main class="main-content">
        <!-- √âtape 1: Crit√®res de recherche -->
        <div class="step-section" id="step1">
            <div class="step-card">
                <div class="step-header">
                    <h3><span class="step-number">1</span>Crit√®res de recherche</h3>
                    <p>D√©finissez vos besoins pour trouver les salles disponibles</p>
                </div>
                
                <div class="search-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="dateReservation">Date de r√©servation :</label>
                            <input type="text" id="dateReservation" placeholder="jj/mm/aaaa" maxlength="10" required>
                            <span class="field-help">Format : jj/mm/aaaa</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="nombrePlaces">Nombre de places minimum :</label>
                            <input type="number" id="nombrePlaces" placeholder="Ex: 30" min="1" max="100" required>
                            <span class="field-help">Capacit√© minimale requise</span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="heureDebut">Heure de d√©but :</label>
                            <input type="text" id="heureDebut" placeholder="HH:mm" maxlength="5" required>
                            <span class="field-help">Format : HH:mm (ex: 08:00)</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="heureFin">Heure de fin :</label>
                            <input type="text" id="heureFin" placeholder="HH:mm" maxlength="5" required>
                            <span class="field-help">Format : HH:mm (ex: 10:00)</span>
                        </div>
                    </div>
                </div>
                
                <button class="search-button" onclick="rechercherSalles()">
                    <span class="button-text">Rechercher les salles disponibles</span>
                    <div class="loading-spinner" id="loadingSpinner1"></div>
                </button>
            </div>
        </div>

        <!-- √âtape 2: S√©lection de salle -->
        <div class="step-section" id="step2" style="display: none;">
            <div class="step-card">
                <div class="step-header">
                    <h3><span class="step-number">2</span>S√©lection de la salle</h3>
                    <p id="criteresInfo">Choisissez une salle parmi celles disponibles</p>
                </div>
                
                <div class="salles-grid" id="sallesGrid">
                    <!-- Les cartes de salles seront ajout√©es dynamiquement -->
                </div>
                
                <div class="action-buttons">
                    <button class="secondary-button" onclick="retourRecherche()">
                        ‚Üê Modifier la recherche
                    </button>
                </div>
            </div>
        </div>

        <!-- √âtape 3: Confirmation -->
        <div class="step-section" id="step3" style="display: none;">
            <div class="step-card">
                <div class="step-header">
                    <h3><span class="step-number">3</span>Confirmation de r√©servation</h3>
                    <p>V√©rifiez les d√©tails avant de confirmer</p>
                </div>
                
                <div class="confirmation-details" id="confirmationDetails">
                    <!-- Les d√©tails seront ajout√©s dynamiquement -->
                </div>
                
                <div class="action-buttons">
                    <button class="secondary-button" onclick="retourSelection()">
                        ‚Üê Changer de salle
                    </button>
                    <button class="confirm-button" onclick="confirmerReservation()">
                        <span class="button-text">Confirmer la r√©servation</span>
                        <div class="loading-spinner" id="loadingSpinner3"></div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Section de succ√®s -->
        <div class="step-section" id="success" style="display: none;">
            <div class="success-card">
                <div class="success-icon">‚úÖ</div>
                <h3>R√©servation confirm√©e !</h3>
                <div class="success-details" id="successDetails">
                    <!-- Les d√©tails seront ajout√©s dynamiquement -->
                </div>
                
                <div class="action-buttons">
                    <button class="primary-button" onclick="nouvelleReservation()">
                        Nouvelle r√©servation
                    </button>
                    <button class="secondary-button" onclick="retourAccueil()">
                        Retour √† l'accueil
                    </button>
                </div>
            </div>
        </div>

        <!-- Section aucune salle -->
        <div class="step-section" id="noSalles" style="display: none;">
            <div class="no-results-card">
                <div class="no-results-icon">üèõÔ∏è</div>
                <h3>Aucune salle disponible</h3>
                <p id="noSallesMessage">Aucune salle ne correspond √† vos crit√®res pour cette p√©riode.</p>
                
                <div class="suggestions">
                    <h4>Suggestions :</h4>
                    <ul>
                        <li>Essayez avec un nombre de places plus petit</li>
                        <li>Choisissez une autre p√©riode</li>
                        <li>V√©rifiez la disponibilit√© √† d'autres cr√©neaux</li>
                    </ul>
                </div>
                
                <button class="primary-button" onclick="retourRecherche()">
                    ‚Üê Modifier la recherche
                </button>
            </div>
        </div>
    </main>

    <script src="reservation-salle.js"></script>
</body>
</html>