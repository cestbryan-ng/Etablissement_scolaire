<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√©server du mat√©riel - R√©servations Enseignants</title>
    <link rel="stylesheet" href="reservation-materiel.css">
</head>
<body>
    <header class="header">
        <h1>Etablissement Scolaire</h1>
        <div class="user-info">
            <div class="user-avatar"></div>
            <span>Nom enseignant</span>
            <button onclick="logout()" class="logout-btn">D√©connexion</button>
        </div>
    </header>

    <section class="welcome-section">
        <div class="welcome-header">
            <button onclick="retourAccueil()" class="back-button">‚Üê Retour</button>
            <div class="welcome-content">
                <h2>R√©server du mat√©riel p√©dagogique</h2>
                <p>R√©servez ordinateurs et vid√©oprojecteurs pour vos cours</p>
            </div>
        </div>
    </section>

    <main class="main-content">
        <!-- √âtape 1: Crit√®res de consultation -->
        <div class="step-section" id="step1">
            <div class="step-card">
                <div class="step-header">
                    <h3><span class="step-number">1</span>P√©riode de consultation</h3>
                    <p>D√©finissez la p√©riode pour laquelle vous souhaitez du mat√©riel</p>
                </div>
                
                <div class="search-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="dateReservation">Date :</label>
                            <input type="text" id="dateReservation" placeholder="jj/mm/aaaa" maxlength="10" required>
                            <span class="field-help">Format : jj/mm/aaaa</span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="heureDebut">Heure de d√©but :</label>
                            <input type="text" id="heureDebut" placeholder="HH:mm" maxlength="5" required>
                            <span class="field-help">Format : HH:mm (ex: 08:00)</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="heureFin">Heure de fin :</label>
                            <input type="text" id="heureFin" placeholder="HH:mm" maxlength="5" required>
                            <span class="field-help">Format : HH:mm (ex: 10:00)</span>
                        </div>
                    </div>
                </div>
                
                <button class="search-button" onclick="consulterDisponibilite()">
                    <span class="button-text">Consulter la disponibilit√©</span>
                    <div class="loading-spinner" id="loadingSpinner1"></div>
                </button>
            </div>
        </div>

        <!-- √âtape 2: S√©lection du mat√©riel -->
        <div class="step-section" id="step2" style="display: none;">
            <div class="step-card">
                <div class="step-header">
                    <h3><span class="step-number">2</span>S√©lection du mat√©riel</h3>
                    <p id="periodeInfo">Choisissez le mat√©riel dont vous avez besoin</p>
                </div>
                
                <div class="materiel-grid" id="materielGrid">
                    <!-- Les cartes de mat√©riel seront ajout√©es dynamiquement -->
                </div>
                
                <div class="action-buttons">
                    <button class="secondary-button" onclick="retourConsultation()">
                        ‚Üê Modifier la p√©riode
                    </button>
                </div>
            </div>
        </div>

        <!-- √âtape 3: Confirmation -->
        <div class="step-section" id="step3" style="display: none;">
            <div class="step-card">
                <div class="step-header">
                    <h3><span class="step-number">3</span>Confirmation de r√©servation</h3>
                    <p>V√©rifiez les d√©tails avant de confirmer</p>
                </div>
                
                <div class="confirmation-details" id="confirmationDetails">
                    <!-- Les d√©tails seront ajout√©s dynamiquement -->
                </div>
                
                <div class="action-buttons">
                    <button class="secondary-button" onclick="retourSelection()">
                        ‚Üê Changer de mat√©riel
                    </button>
                    <button class="confirm-button" onclick="confirmerReservation()">
                        <span class="button-text">Confirmer la r√©servation</span>
                        <div class="loading-spinner" id="loadingSpinner3"></div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Section de succ√®s -->
        <div class="step-section" id="success" style="display: none;">
            <div class="success-card">
                <div class="success-icon">‚úÖ</div>
                <h3>R√©servation confirm√©e !</h3>
                <div class="success-details" id="successDetails">
                    <!-- Les d√©tails seront ajout√©s dynamiquement -->
                </div>
                
                <div class="info-note">
                    <div class="info-icon">‚ÑπÔ∏è</div>
                    <p>Un responsable se chargera de d√©poser le mat√©riel dans votre salle r√©serv√©e.</p>
                </div>
                
                <div class="action-buttons">
                    <button class="primary-button" onclick="nouvelleReservation()">
                        Nouvelle r√©servation
                    </button>
                    <button class="secondary-button" onclick="retourAccueil()">
                        Retour √† l'accueil
                    </button>
                </div>
            </div>
        </div>

        <!-- Section pas de salle r√©serv√©e -->
        <div class="step-section" id="pasDeSalle" style="display: none;">
            <div class="error-card">
                <div class="error-icon">üèõÔ∏è</div>
                <h3>Aucune salle r√©serv√©e</h3>
                <p>Vous devez d'abord r√©server une salle pour cette p√©riode avant de pouvoir r√©server du mat√©riel.</p>
                
                <div class="suggestions">
                    <h4>Pour r√©server du mat√©riel :</h4>
                    <ol>
                        <li>R√©servez d'abord une salle pour la p√©riode souhait√©e</li>
                        <li>Revenez ensuite r√©server votre mat√©riel</li>
                        <li>Le mat√©riel sera d√©pos√© dans votre salle r√©serv√©e</li>
                    </ol>
                </div>
                
                <div class="action-buttons">
                    <button class="primary-button" onclick="allerReserverSalle()">
                        R√©server une salle
                    </button>
                    <button class="secondary-button" onclick="retourConsultation()">
                        ‚Üê Modifier la p√©riode
                    </button>
                </div>
            </div>
        </div>

        <!-- Section aucun mat√©riel -->
        <div class="step-section" id="aucunMateriel" style="display: none;">
            <div class="no-results-card">
                <div class="no-results-icon">üì¶</div>
                <h3>Aucun mat√©riel disponible</h3>
                <p id="aucunMaterielMessage">Aucun mat√©riel n'est disponible pour cette p√©riode.</p>
                
                <div class="suggestions">
                    <h4>Suggestions :</h4>
                    <ul>
                        <li>Essayez une autre p√©riode</li>
                        <li>V√©rifiez la disponibilit√© √† d'autres cr√©neaux</li>
                        <li>Contactez l'administration pour plus d'informations</li>
                    </ul>
                </div>
                
                <button class="primary-button" onclick="retourConsultation()">
                    ‚Üê Modifier la p√©riode
                </button>
            </div>
        </div>
    </main>

    <script src="reservation-materiel.js"></script>
</body>
</html>